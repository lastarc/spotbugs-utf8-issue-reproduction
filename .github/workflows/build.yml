name: Demo
on:
  - push
  - workflow_dispatch
jobs:
  version_matrix:
    strategy:
      matrix:
        os:
          - "ubuntu-22.04"
          - "ubuntu-24.04"
        jdk:
          - 11
          - 17
          - 21
          # - 23 # not available in apt?
        langVal:
          - ""
          - "C.UTF-8"
          - "en_US.UTF-8"
    runs-on: ${{ matrix.os }}
    steps:
      - name: dependencies
        run: |
          sudo apt update
          sudo apt install -y git openjdk-${{ matrix.jdk }}-jdk

      - name: spotbugs get & build
        run: |
          git clone https://github.com/spotbugs/spotbugs.git
          cd spotbugs
          export LANG="${{ matrix.langVal }}"
          echo "LANG=\"$LANG\""
          ./gradlew build
